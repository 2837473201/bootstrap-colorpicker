!function(a){"use strict";"function"==typeof define&&define.amd?define(["jquery"],a):window.jQuery&&!window.jQuery.fn.colorpicker&&a(window.jQuery)}(function(a){"use strict";var b={placement:"auto",container:!1,animation:!0,value:!1,vertical:!1,inline:!1,format:!1,input:"input",component:!1,large:!1,palettes:[],paletteAdjustment:9,updatePalettes:!0,okButton:!1,cancelButton:!1,template:'<div class="colorpicker"><div class="colorpicker-map"><div class="colorpicker-color"></div><div class="colorpicker-lightness"></div><div class="colorpicker-saturation"></div><i><b></b></i></div><div class="colorpicker-bar"><div class="colorpicker-hue"><i></i></div></div><div class="colorpicker-bar"><div class="colorpicker-alpha"><i></i></div></div><div class="colorpicker-palettes"></div></div>',paletteTemplate:'<div class="colorpicker-bar colorpicker-bar-horizontal colorpicker-palette"><div class="colorpicker-palette-color"></div><div class="colorpicker-palette-color"></div><div class="colorpicker-palette-color"></div><div class="colorpicker-palette-color"></div><div class="colorpicker-palette-color"></div><div class="colorpicker-palette-color"></div><div class="colorpicker-palette-color"></div><div class="colorpicker-palette-color"></div><div class="colorpicker-palette-color"></div><div class="colorpicker-palette-color"></div><div class="colorpicker-palette-color"></div></div>',popoverTemplate:'<div class="popover colorpicker-popover"><div class="arrow"></div><div class="popover-content"></div></div>'},c=function(a,b){return"background-image: -moz-linear-gradient(top, {color1} 0%, {color2} 100%); background-image: -o-linear-gradient(top, {color1} 0%, {color2} 100%); background-image: -webkit-gradient(linear, left top, left bottom, color-stop(0, {color1}), color-stop(1, {color2})); background-image: -webkit-linear-gradient(top, {color1} 0%, {color2} 100%); background: -ms-linear-gradient(top,  {color1} 0%,{color2} 100%); background: linear-gradient(top,  {color1} 0%,{color2} 100%);".replace(/\{color1\}/g,a).replace(/\{color2\}/g,b)},d=function(c,d){this.element=a(c).addClass("colorpicker-element"),this.options=a.extend({},b,this.element.data(),d),this.component=this.options.component,this.component=this.component!==!1?this.element.find(this.component):!1,0!=this.component&&0===this.component.length&&(this.component=!1),this.container=this.options.container===!0?this.element:this.options.container,this.container=this.container!==!1?a(this.container):!1,this.input=this.element.is("input")?this.element:this.options.input?this.element.find(this.options.input):!1,0!=this.input&&0===this.input.length&&(this.input=!1),this._createPicker(),this.setColor(this.getValue()),this.options.format=this.options.format===!1?this.color._format:this.options.format,this.element.popover({placement:this.options.placement,container:this.container,animation:this.options.animation,template:this.options.popoverTemplate,content:this.picker.element,html:!0,trigger:"manual"}).on("focus",function(){a(this).popover("show")}).on("blur",function(){}),this._setPalettes(this.options.palettes);console.log(this)},e=function(a){this.color=a};e.prototype={constructor:e,clone:function(){return a.extend(!0,{},this.color)},fn:function(a,b){var c=this.clone();return c[a](b),c}},d.prototype={constructor:d,_error:function(a){throw"Bootstrap Colorpicker Exception: "+a},_tc:function(a,b){return new e(this.color).fn(a,b)},_setPalettes:function(b){var c=this;return a.isArray(b)?(this.picker.palettes.element.html(""),a(b).each(function(b,d){var e=a(c.options.paletteTemplate),f=0;a.isArray(d)?a(d).each(function(a,b){f=c._fillPalette(e,b,f)}):f=c._fillPalette(e,d,f),c.picker.palettes.element.append(e)}),void this.picker.palettes.element.find(".colorpicker-palette-color").on("click",function(){var b=a(this).find("i");b.length>0&&c.setColor(b.css("backgroundColor"))})):!1},_setPaletteColor:function(b,c,d,e){e=e||!1;var f=c.find(".colorpicker-palette-color:eq("+d+")");return f.length>0&&(e=e?e:b,f.html(a("<i></i>").attr("title",e).css("backgroundColor",b))),f},_fillPalette:function(b,c,d){var e=this,f=d||0;switch(d=f,c){case"current":var g=e.color.toString(e.options.format);e._setPaletteColor(g,b,d,g+" current"),f++;break;case"triad":a(tinycolor.triad(e.color)).each(function(a,c){return 0==a?void d--:(c=c.toString(e.options.format),e._setPaletteColor(c,b,a+d,c+" triad"),void f++)});break;case"tetrad":a(tinycolor.tetrad(e.color)).each(function(a,c){return 0==a?void d--:(c=c.toString(e.options.format),e._setPaletteColor(c,b,a+d,c+" tetrad"),void f++)});break;case"complementary":a(tinycolor.splitcomplement(e.color)).each(function(a,c){return 0==a?void d--:(c=c.toString(e.options.format),e._setPaletteColor(c,b,a+d,c+" complementary"),void f++)});break;case"monochromatic":a(tinycolor.monochromatic(e.color,12)).each(function(a,c){return 0==a?void d--:(c=c.toString(e.options.format),e._setPaletteColor(c,b,a+d,c+" monochromatic"),void f++)});break;case"analogous":a(tinycolor.analogous(e.color,12)).each(function(a,c){return 0==a?void d--:(c=c.toString(e.options.format),e._setPaletteColor(c,b,a+d,c+" analogous"),void f++)});break;case"lighten":case"darken":case"saturate":case"desaturate":case"brighten":for(var h=0;11>h;h++){var i=e.options.paletteAdjustment*(h+1),g=tinycolor[c](e.color,i).toString(e.options.format);e._setPaletteColor(g,b,h+d,g+" "+c+" "+i+"%"),f++}break;case"lightness":for(var j=[],h=0;6>h;h++){var i=e.options.paletteAdjustment*(h+1);j.push(tinycolor.darken(e.color,i).toString(e.options.format))}j=j.reverse();for(var h=6;h>=0;h--){var k=100-e.options.paletteAdjustment*(h+1);e._setPaletteColor(j[h],b,h+d,j[h]+" darken "+k+"%"),f++}d+=6;for(var h=0;5>h;h++){var i=e.options.paletteAdjustment*(h+1),g=tinycolor.lighten(e.color,i).toString(e.options.format);e._setPaletteColor(g,b,h+d,g+" lighten "+i+"%"),f++}break;case"mixed":var l=["lighten","darken","saturate","desaturate","brighten","greyscale"],m=0;a(l).each(function(a,c){var g=tinycolor[c](e.color,2*e.options.paletteAdjustment).toString(e.options.format);if(e._setPaletteColor(g,b,m+d,g+" "+c),m++,f++,"greyscale"!=c){var g=tinycolor[c](e.color,4*e.options.paletteAdjustment).toString(e.options.format);e._setPaletteColor(g,b,m+d,g+" "+c),m++,f++}});break;default:a.isArray(c)?a(c).each(function(a,c){e._setPaletteColor(tinycolor(c).toString(e.options.format),b,a+d,c),f++}):(e._setPaletteColor(tinycolor(c).toString(e.options.format),b,d,c),f++)}return f},_createPicker:function(b){b=b||{};var c=a(this.options.template),d=c.find(".colorpicker-map:first"),e=c.find(".colorpicker-color:first"),f=c.find(".colorpicker-hue:first"),g=c.find(".colorpicker-saturation:first"),h=c.find(".colorpicker-lightness:first"),i=c.find(".colorpicker-alpha:first"),j=c.find(".colorpicker-palettes:first");this.picker={element:c,map:{element:d,width:d.width(),height:d.height(),maxTop:0,maxLeft:0,callTop:!1,callLeft:!1,isBar:!1},color:{element:e,width:e.width(),height:e.height(),maxTop:0,maxLeft:0,callTop:!1,callLeft:!1,isBar:!1},hue:{element:f,width:f.width(),height:f.height(),maxTop:0,maxLeft:0,callTop:!1,callLeft:!1,isBar:f.width()!=f.height()},saturation:{element:g,width:g.width(),height:g.height(),maxTop:0,maxLeft:0,callTop:!1,callLeft:!1,isBar:g.width()!=g.height()},lightness:{element:h,width:h.width(),height:h.height(),maxTop:0,maxLeft:0,callTop:!1,callLeft:!1,isBar:h.width()!=h.height()},alpha:{element:i,width:i.width(),height:i.height(),maxTop:0,maxLeft:0,callTop:!1,callLeft:!1,isBar:i.width()!=i.height()},palettes:{element:j,width:j.width(),height:0,maxTop:0,maxLeft:0,callTop:!1,callLeft:!1,isBar:!1}},this.picker=a.extend(!0,this.picker,{hue:{maxTop:this.options.vertical&&this.picker.hue.isBar?0:this.picker.hue.height,maxLeft:!this.options.vertical&&this.picker.hue.isBar?0:this.picker.hue.width,callTop:this.picker.hue.isBar?"setHue":"setBrightness",callLeft:this.picker.hue.isBar?!1:"setHue"},saturation:{maxTop:this.options.vertical&&this.picker.saturation.isBar?0:this.picker.saturation.height,maxLeft:!this.options.vertical&&this.picker.saturation.isBar?0:this.picker.saturation.width,callTop:this.picker.hue.isBar?"setSaturation":"setBrightness",callLeft:this.picker.hue.isBar?!1:"setBrightness"},lightness:{maxTop:this.options.vertical&&this.picker.lightness.isBar?0:this.picker.lightness.height,maxLeft:!this.options.vertical&&this.picker.lightness.isBar?0:this.picker.lightness.width,callTop:!1,callLeft:!1},alpha:{maxTop:this.options.vertical&&this.picker.alpha.isBar?0:this.picker.alpha.height,maxLeft:!this.options.vertical&&this.picker.alpha.isBar?0:this.picker.alpha.width,callTop:this.picker.hue.isBar?"setAlpha":!1,callLeft:this.picker.hue.isBar?!1:"setAlpha"}},b),this.options.large&&(this.picker.element.addClass("colorpicker-2x"),this.options.popoverTemplate=this.options.popoverTemplate.replace("colorpicker-popover","colorpicker-popover colorpicker-popover-2x"))},api:function(){return this},updateColor:function(){this.color.isValid()?(this.picker.color.element.css("backgroundColor",this.color.toString("hex")),this.picker.alpha.element.attr("style",c(this.color.toRgbString(),this._tc("setAlpha",0).toRgbString())),this.options.updatePalettes&&this._setPalettes(this.options.palettes)):this._error("Invalid color : "+this.color)},updatePicker:function(){},updateValue:function(a){return a=a||this.color.toString(this.format),this.input!==!1&&this.input.prop("value",a),this.element!==!1&&this.element.data("color",a),a},updateComponent:function(a){if(a=a||this.color.toString(this.format),this.component!==!1){var b=this.component.find("i").eq(0);b.length>0?b.css({backgroundColor:a}):this.component.css({backgroundColor:a})}},setColor:function(a){this.color=tinycolor(a),this.updateColor(),this.element.data("color",this.color.toString(this.options.format)).trigger({type:"colorChange",color:this.color,value:a})},getColor:function(){return this.color.toString(this.format)},setValue:function(a){this.setColor(a),a=this.getColor(),(this.getValue(!1)!==!1||force===!0)&&(this.updateInput(a),this.updateData(a)),this.updatePicker(),this.element.data("color",this.color.toString(this.options.format)).trigger({type:"colorChange",color:this.color,value:a})},getValue:function(a){a=a||"";var b=a;return b=this.hasInput()?this.input.val():this.element.data("color"),(void 0===b||""===b||null===b)&&(b=a),b},hasInput:function(){return this.input!==!1},isDisabled:function(){return this.hasInput()?this.input.prop("disabled")===!0:!1},disable:function(){return this.hasInput()?(this.input.prop("disabled",!0),!0):!1},enable:function(){return this.hasInput()?(this.input.prop("disabled",!1),!0):!1}},a.colorpicker=d,a.fn.colorpicker=function(b){var c=arguments;return this.each(function(){var e=a(this),f=e.data("colorpicker"),g="object"==typeof b?b:{};f||"string"==typeof b?"string"==typeof b&&f[b].apply(f,Array.prototype.slice.call(c,1)):e.data("colorpicker",new d(this,g))})}});